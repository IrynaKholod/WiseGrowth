{"version":3,"file":"static/js/527.70a7f29a.chunk.js","mappings":"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","sources":["Api/Api.jsx","components/VideoPlayer/VideoPlayer.jsx","components/CoursesItem/CoursesItem.styled.js","components/CoursesItem/CoursesItem.js","components/CoursesList/CoursesList.styled.js","components/CoursesList/CoursesList.jsx","components/Pagination/Pagination.styled.js","components/Pagination/Pagination.jsx","components/Loader/Loader.styled.js","components/Loader/Loader.jsx","pages/Courses/Courses.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.wisey.app/api/v1';\n// const PROXY_URL = \"https://cors-proxy.fringe.zone/\";\n\nconst instance = axios.create({\n  baseURL: BASE_URL,\n});\n\nconst token = {\n  set(token) {\n    instance.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    instance.defaults.headers.common.Authorization = '';\n  },\n};\n\nexport const GetToken = async () => {\n  try {\n    const { data } = await instance.get(\n      '/auth/anonymous?platform=subscriptions'\n    );\n    token.set(data.token);\n    return data.token;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const GetAllCourses = async () => {\n  await GetToken();\n  const response = await instance.get('/core/preview-courses');\n  return response;\n};\n\nexport const GetCourseById = async id => {\n  await GetToken();\n  const response = await instance.get(`/core/preview-courses/${id}`);\n  return response.data;\n};\n","import Hls from 'hls.js';\n\nexport const VideoPlayer = (\n  link,\n  videoElement,\n  startPosition,\n  playbackRate\n) => {\n  let hls = null;\n  if (Hls.isSupported()) {\n    hls = new Hls({ startPosition: startPosition });\n    hls.on(Hls.Events.MEDIA_ATTACHED, function () {\n      console.log('video and hls.js are now bound together !');\n    });\n    hls.on(Hls.Events.MANIFEST_PARSED, function (event, data) {\n      console.log(\n        'manifest loaded, found ' + data.levels.length + ' quality level'\n      );\n    });\n    hls.loadSource(`${link}`);\n    hls.attachMedia(videoElement);\n\n    if (playbackRate) {\n      videoElement.playbackRate = playbackRate;\n    }\n  }\n  return hls;\n};\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const ItemCourse = styled(NavLink)`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  flex-basis: 100%;\n  margin-bottom: 20px;\n  border-radius: 10px;\n  background-color: #f7f7f7;\n  padding: 20px;\n  position: relative;\n  box-sizing: border-box;\n  text-align: center;\n  cursor: pointer;\n\n  @media (min-width: 768px) {\n    flex-basis: calc(50% - 10px);\n  }\n\n  &:hover {\n    box-shadow: 0px 2px 2px 0px #0000001f, 0px 1px 2px 0px #00000014,\n      0px 3px 1px 0px #0000001a;\n  }\n`;\n\nexport const ItemImg = styled.img`\n  align-items: center;\n  width: 100%;\n  height: 200px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  transition: 'opacity 0.5s ease-in-out';\n  max-width: 100%;\n  max-height: 200px;\n  object-fit: scale-down;\n  z-index: 11;\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: white;\n    opacity: 0;\n    transition: opacity 0.5s ease-in-out;\n    z-index: 12;\n  }\n  &:hover::before {\n    opacity: 1;\n  }\n  &:hover {\n    &::before {\n      opacity: 0;\n    }\n  }\n`;\n\nexport const ItemHeader = styled.h2`\nmargin-top: 225px;\nalign-items: center\nsize: 24px;\n\n&:hover {\ncolor:rgba(72,37,209,255);\n    }\n`;\n\nexport const SkillsList = styled.ul`\n  list-style: square;\n  margin-top: 15px;\n  margin-left: 20px;\n  text-align: left;\n`;\n\nexport const Raitingline = styled.p`\n  color: grey;\n  margin-top: 20px;\n  margin-bottom: 0;\n  align-items: flex-end;\n`;\n\nexport const LiItem = styled.li`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n`;\n\nexport const ListTitle = styled.p`\n  margin-top: 20px;\n  margin-left: 15px;\n  text-align: left;\n  size: 15px;\n  font-weight: 500;\n`;\n\nexport const PreviwVideo = styled.video`\n  position: absolute;\n  top: 2%;\n  left: 0;\n  opacity: ${({ isHovered }) => (isHovered ? 1 : 0)};\n  transition: opacity 0.5s ease-in-out;\n  width: 100%;\n  height: 200px;\n  z-index: 1;\n`;\n","import React, { useState, useRef, useEffect, Suspense } from 'react';\nimport { useLocation, Outlet } from 'react-router-dom';\nimport {\n  ItemCourse,\n  ItemImg,\n  ListTitle,\n  ItemHeader,\n  SkillsList,\n  Raitingline,\n  LiItem,\n  PreviwVideo,\n} from './CoursesItem.styled';\nimport { VideoPlayer } from '../../components/VideoPlayer/VideoPlayer';\n\nconst CoursesItem = ({ course }) => {\n  const [isImageLoaded, setIsImageLoaded] = useState(false);\n  const [isHovered, setIsHovered] = useState(false);\n  const videoRef = useRef(null);\n\n  const location = useLocation();\n\n  const handleImageLoad = () => setIsImageLoaded(true);\n\n  useEffect(() => {\n    if (course.meta.courseVideoPreview && course.meta.courseVideoPreview.link) {\n      const hls = VideoPlayer(\n        course.meta.courseVideoPreview.link,\n        videoRef.current,\n        0.1\n      );\n      return () => {\n        hls && hls.destroy();\n      };\n    }\n  }, [course.meta.courseVideoPreview]);\n\n  const handleMouseEnter = () => {\n    setIsHovered(true);\n    videoRef.current && videoRef.current.play();\n  };\n\n  const handleMouseLeave = () => {\n    setIsHovered(false);\n    videoRef.current && videoRef.current.pause();\n  };\n\n  return (\n    <ItemCourse\n      to={`${course.id}`}\n      state={{ from: location }}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      <LiItem>\n        <div>\n          <ItemImg\n            src={`${course.previewImageLink}/cover.webp`}\n            alt=\"CourseImage\"\n            onLoad={handleImageLoad}\n            style={{ opacity: isHovered ? 0 : 1 }}\n          />\n          {!isImageLoaded && <div>Loading...</div>}\n          <PreviwVideo\n            ref={videoRef}\n            style={{ opacity: isHovered ? 1 : 0 }}\n            controls\n            muted\n          />\n\n          <ItemHeader>{course.title}</ItemHeader>\n          <ListTitle>Skill you'll achieve:</ListTitle>\n          <SkillsList>\n            {' '}\n            {course.meta.skills?.map((skill, index) => {\n              return <li key={index}>{skill}</li>;\n            })}\n          </SkillsList>\n        </div>\n\n        <Raitingline>\n          Raitig: {course.rating} &nbsp; &nbsp; Lessons: {course.lessonsCount}\n        </Raitingline>\n      </LiItem>\n\n      <Suspense fallback={null}>\n        <Outlet />\n      </Suspense>\n    </ItemCourse>\n  );\n};\n\nexport default CoursesItem;\n","import styled from 'styled-components';\n\nexport const ListCourses = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n`;\n","import React from 'react';\nimport CoursesItem from '../../components/CoursesItem/CoursesItem';\nimport { ListCourses } from './CoursesList.styled';\n\nexport const CoursesList = ({ courses }) => {\n  return (\n    <ListCourses>\n      {courses.map(course => (\n        <CoursesItem key={course.id} courseId={course.id} course={course} />\n      ))}\n    </ListCourses>\n  );\n};\n","import styled from 'styled-components';\n\nexport const PaginationBox = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-bottom: 20px;\n`;\nexport const PaginationList = styled.ul`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const PaginationBtn = styled.button`\n  padding: 5px 10px;\n  margin-right: 10px;\n  &:hover {\n    border-color: rgba(72, 37, 209, 255);\n    color: rgba(72, 37, 209, 255);\n  }\n`;\n","import React from 'react';\nimport {\n  PaginationBtn,\n  PaginationBox,\n  PaginationList,\n} from './Pagination.styled';\n\nexport function Pagination({ currentPage, totalPages, setCurrentPage }) {\n  const pageNumbers = [];\n  for (let i = 1; i <= totalPages; i++) {\n    pageNumbers.push(i);\n  }\n  const goToPreviousPage = () => {\n    setCurrentPage(currentPage => Math.max(currentPage - 1, 1));\n  };\n  const goToNextPage = () => {\n    setCurrentPage(currentPage => Math.min(currentPage + 1, totalPages));\n  };\n  return (\n    <PaginationBox>\n      <PaginationBtn disabled={currentPage === 1} onClick={goToPreviousPage}>\n        prev\n      </PaginationBtn>\n      <PaginationList>\n        {pageNumbers.map(number => (\n          <li\n            key={number}\n            style={{ fontWeight: currentPage === number ? 'bold' : 'normal' }}\n          >\n            <PaginationBtn\n              onClick={() => setCurrentPage(number)}\n              disabled={currentPage === number}\n            >\n              {number}\n            </PaginationBtn>\n          </li>\n        ))}\n      </PaginationList>\n      <PaginationBtn\n        disabled={currentPage === totalPages}\n        onClick={goToNextPage}\n      >\n        next\n      </PaginationBtn>\n    </PaginationBox>\n  );\n}\n","import styled from 'styled-components';\n\nexport const LoaderBox = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: 150px;\n`;\n","import React from 'react';\nimport { LoaderBox } from './Loader.styled';\nimport { TailSpin } from 'react-loader-spinner';\n\nexport class Loader extends React.Component {\n  render() {\n    return (\n      <LoaderBox>\n        <TailSpin width=\"400\" color=\"rgba(72,37,209,255)\" />\n      </LoaderBox>\n    );\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport { GetAllCourses } from '../../Api/Api.jsx';\nimport { CoursesList } from '../../components/CoursesList/CoursesList';\nimport { Pagination } from '../../components/Pagination/Pagination';\nimport { Loader } from '../../components/Loader/Loader';\n\nconst Courses = () => {\n  const [courses, setCourses] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [perPage] = useState(10);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchCourses() {\n      setIsLoading(true);\n      try {\n        const response = await GetAllCourses();\n        if (response) {\n          setCourses(response.data.courses);\n          setIsLoading(false);\n        } else {\n          console.log('Error: response does not contain results');\n        }\n      } catch (error) {\n        console.log(`Error: ${error.message}`);\n      }\n    }\n\n    if (!courses.length) {\n      fetchCourses();\n    }\n  }, [courses.length]);\n\n  const indexOfLastCourse = currentPage * perPage;\n  const indexOfFirstCourse = indexOfLastCourse - perPage;\n  const currentCourses = courses.slice(indexOfFirstCourse, indexOfLastCourse);\n\n  const totalPages = Math.ceil(courses.length / perPage);\n\n  return (\n    <>\n      {isLoading ? (\n        <Loader />\n      ) : (\n        <>\n          <CoursesList courses={currentCourses} />\n          <Pagination\n            currentPage={currentPage}\n            totalPages={totalPages}\n            setCurrentPage={setCurrentPage}\n          />\n        </>\n      )}\n    </>\n  );\n};\n\nexport default Courses;\n"],"names":["instance","axios","baseURL","token","defaults","headers","common","Authorization","GetToken","get","data","console","log","GetAllCourses","response","GetCourseById","id","VideoPlayer","link","videoElement","startPosition","playbackRate","hls","Hls","on","event","levels","length","loadSource","attachMedia","ItemCourse","styled","NavLink","ItemImg","ItemHeader","SkillsList","Raitingline","LiItem","ListTitle","PreviwVideo","isHovered","course","useState","isImageLoaded","setIsImageLoaded","setIsHovered","videoRef","useRef","location","useLocation","useEffect","meta","courseVideoPreview","current","destroy","to","state","from","onMouseEnter","play","onMouseLeave","pause","src","previewImageLink","alt","onLoad","style","opacity","ref","controls","muted","title","skills","map","skill","index","rating","lessonsCount","Suspense","fallback","ListCourses","CoursesList","courses","courseId","PaginationBox","PaginationList","PaginationBtn","Pagination","currentPage","totalPages","setCurrentPage","pageNumbers","i","push","disabled","onClick","Math","max","number","fontWeight","min","LoaderBox","Loader","width","color","React","setCourses","perPage","isLoading","setIsLoading","message","fetchCourses","indexOfLastCourse","indexOfFirstCourse","currentCourses","slice","ceil"],"sourceRoot":""}